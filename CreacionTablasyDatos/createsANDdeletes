////////////---------- CREATES -----------////////////

CREATE TABLE EMPLEADO (
	dni VARCHAR(9) PRIMARY KEY NOT NULL,
	nombre VARCHAR(45),
	primerApellido VARCHAR(45),
	fechaNac DATE,
	fechaContratacion DATE,
	nacionalidad VARCHAR(30),
	cargo VARCHAR(30),
	contrasenya VARCHAR(10)
	);
	
CREATE TABLE CLIENTE (
	dni VARCHAR(9) PRIMARY KEY NOT NULL,
	nombre VARCHAR(45),
	apellidos VARCHAR(100),
	edad INT(3),
	profesion VARCHAR(30),
	contrasenya VARCHAR(10)
	);
	
CREATE TABLE VISITA (
	cod INT(5) PRIMARY KEY NOT NULL,
	guia INT(9),
	nombre VARCHAR(45),
	numMaxClientes INT(3),
	puntoPartida VARCHAR(100),
	anyo DATE,
	fecha DATETIME,
	duracionEstimada FLOAT,
	tematica VARCHAR(45),
	coste FLOAT,	
	CONSTRAINT 'fk_empleados_visita' FOREIGN KEY (guia) REFERENCES EMPLEADO (dni) ON DELETE CASCADE
);


CREATE TABLE VISITACLIENTE (
	cliente VARCHAR(9) PRIMARY KEY NOT NULL,
	visita INT(5) PRIMARY KEY NOT NULL,
	CONSTRAINT 'fk_visitaCliente_cliente' FOREIGN KEY (cliente) REFERENCES CLIENTE (dni) ON DELETE CASCADE,
	CONSTRAINT 'fk_visitaCliente_visita' FOREIGN KEY (visita) REFERENCES VISITA (cod) ON DELETE CASCADE
);


CREATE TABLE BONIFICACION (
	cod INT(5) PRIMARY KEY NOT NULL,
	cliente VARCHAR(9) NOT NULL,
	nombre VARCHAR(45),
	descripcion VARCHAR(200),
	CONSTRAINT 'fk_cliente_bonificacion' FOREIGN KEY (cliente) REFERENCES CLIENTE (dni) ON DELETE CASCADE
);

CREATE TABLE BONIFICACIONESVISITA (
	bonificacion INT(5) PRIMARY KEY NOT NULL,
	visita INT(5) PRIMARY KEY NOT NULL,
	CONSTRAINT 'fk_bonificacion_bonificacionesVisita' FOREIGN KEY (bonificacion) REFERENCES BONIFICACION (cod) ON DELETE CASCADE,
	CONSTRAINT 'fk_visita_bonificacionesVisita' FOREIGN KEY (visita) REFERENCES VISITA (cod) ON DELETE CASCADE
);


////////////---------- DELETES -----------////////////

DROP TABLE BONIFICACIONESVISITA;
DROP TABLE VISITACLIENTE;
DROP TABLE BONIFICACION;
DROP TABLE VISITA;
DROP TABLE EMPLEADO;
DROP TABLE CLIENTE;

////////////---------- INSERTS -----------////////////
INSERT INTO EMPLEADO VALUES ('34678765G', 'Violeta', 'Bicardi', 34, 'Arquitecta', 'abcdfxi34');
INSERT INTO EMPLEADO VALUES ('56789432W', 'Diego', 'Jimenez', 22, 'Estudiante', '1234abcd');
INSERT INTO EMPLEADO VALUES ('22347812Q', 'Julen', 'Olarizu', 28, 'Administrativo', '12345Abc');
INSERT INTO EMPLEADO VALUES ('56766654U', 'Sandra', 'Villastres', 34, 'Arquitecta', 'abcdfxi34');
INSERT INTO EMPLEADO VALUES ('45667545T', 'Violeta', 'Bicardi', 34, 'Arquitecta', 'abcdfxi34');




	
	